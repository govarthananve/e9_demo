import{Ab as qe,D as d,E as F,F as r,Fb as $e,Ga as W,Gb as ze,Ha as he,Hb as We,I as c,Ia as J,Ib as Je,J as l,Ja as Oe,K as v,Ka as Se,Kb as Y,L as xe,La as w,Lb as A,M as Ae,Ma as H,Mb as ye,N as I,Nb as He,O as h,Ob as Ye,P as u,Pa as Ve,Pb as Ge,Qb as Ke,Ra as Pe,Rb as _e,S as X,Sb as ee,T as we,Tb as Xe,U as Ee,Ub as Ze,V as De,W as ue,Wa as Le,Wb as et,X as m,Xb as tt,Y as L,Yb as it,Z as y,Zb as nt,_ as P,_b as ot,aa as Me,ac as at,ba as Fe,c as ce,ca as Ne,d as Te,e as T,ea as g,eb as Re,fa as C,fb as je,gb as Be,i as le,ia as N,j as pe,k as be,ka as R,la as K,m as k,ma as de,n as me,na as Ue,p as b,pa as Z,pb as M,q as S,qa as $,qb as Qe,ra as j,rc as rt,sb as E,tb as x,wa as z,x as s,y as _,ya as ve,za as fe}from"./chunk-UDUADXKV.js";var st=(()=>{let n=class n{constructor(){}ngOnInit(){}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=k({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(o,i){o&1&&v(0,"router-outlet")},dependencies:[he]});let e=n;return e})();var It=()=>["far","dot-circle"],Tt=()=>["far","circle"];function xt(e,n){e&1&&v(0,"fa-icon",13),e&2&&r("icon",g(1,It))}function At(e,n){e&1&&v(0,"fa-icon",13),e&2&&r("icon",g(1,Tt))}function wt(e,n){if(e&1&&(c(0,"span",21),m(1),l()),e&2){let t=u().$implicit;s(),y(" ",t.name,"")}}function Et(e,n){if(e&1&&(c(0,"span",22),m(1),l()),e&2){let t=u().$implicit;r("routerLink",t.link),s(),y(" ",t.name," ")}}function Dt(e,n){if(e&1&&(c(0,"span"),d(1,wt,2,1,"span",18)(2,Et,2,2,"span",19),c(3,"span",20),m(4),l()()),e&2){let t=n.$implicit,a=n.last;s(),r("ngIf",!t.link),s(),r("ngIf",t.link),s(2),L(a?"":"\u2022")}}function Mt(e,n){if(e&1&&(c(0,"div",14)(1,"div",15)(2,"div",16),d(3,Dt,5,3,"span",17),l()()()),e&2){let t=u();s(3),r("ngForOf",t.breadcrumbData==null?null:t.breadcrumbData.links)}}var ct=(()=>{let n=class n{constructor(a,o){this.breadcrumbService=a,this.changeDetector=o,this.showMenu=!0,this.breadcrumbData=new ce(null),this.breadcrumbService.selectedLinks$.subscribe(i=>{this.breadcrumbData=i})}ngAfterContentChecked(){this.changeDetector.detectChanges()}ngOnInit(){}toggleMenu(){this.showMenu=!this.showMenu}};n.\u0275fac=function(o){return new(o||n)(_(A),_(Ue))},n.\u0275cmp=k({type:n,selectors:[["app-landing"]],decls:16,vars:4,consts:[[1,"row","menu-bg"],[1,"col-auto","m-0","p-0","menu-bdr"],[1,"row","m-0","p-0","menu-bg"],[1,"col","p-1",2,"max-width","191px"],["src","./assets/company_logo.png","width","100px","alt","logo",1,"border-0"],[1,"float-end","align-items-center","mt-2","me-1",3,"click"],["class","search-icon",3,"icon",4,"ngIf"],[1,"row","m-0","p-0"],[1,"col-auto","m-0","p-0"],[3,"showMenu"],[1,"col","m-0","p-0","mt-1"],["class","row m-0 p-0 menu-bg breadcrumb-bdr",4,"ngIf"],[1,"col","p-2","m-0","common-bg"],[1,"search-icon",3,"icon"],[1,"row","m-0","p-0","menu-bg","breadcrumb-bdr"],[1,"col"],[1,"m-2"],[4,"ngFor","ngForOf"],["class","text text-muted",4,"ngIf"],["class","text p-color cursor-pointer",3,"routerLink",4,"ngIf"],[1,"fw-bold","ms-1","me-1"],[1,"text","text-muted"],[1,"text","p-color","cursor-pointer",3,"routerLink"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v(4,"img",4),c(5,"span",5),h("click",function(){return i.toggleMenu()}),d(6,xt,1,2,"fa-icon",6)(7,At,1,2,"fa-icon",6),l()()(),c(8,"div",7)(9,"div",8),v(10,"app-nav-bar",9),l()()(),c(11,"div",10),d(12,Mt,4,1,"div",11),c(13,"div",7)(14,"div",12),v(15,"router-outlet"),l()()()()),o&2&&(s(6),r("ngIf",i.showMenu),s(),r("ngIf",!i.showMenu),s(3),r("showMenu",i.showMenu),s(2),r("ngIf",i.breadcrumbData))},dependencies:[$,j,he,Oe,H,He],styles:[".search[_ngcontent-%COMP%]{height:30px;width:30px;border:1px solid #441e6a;border-radius:50%;display:flex;justify-content:center;align-items:center}.search-icon[_ngcontent-%COMP%]{color:#441e6a}.menu-bdr[_ngcontent-%COMP%]{border-right:1px solid #bcd7e0}.breadcrumb-bdr[_ngcontent-%COMP%]{border-bottom:1px solid #bcd7e0}"]});let e=n;return e})();var lt=(()=>{let n=class n{constructor(a,o,i){this.userLoginService=a,this.breadcrumbService=o,this.cryptoService=i,this.env=w,this.url="",this.showContent=!1,this.role="",this.userTypeEnum=M,this.dmsUserName="",this.dmsToken="",this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(p=>this.authUser=p),this.authUser.userType==this.userTypeEnum.Client||this.authUser.userType==this.userTypeEnum.AssociateClient?this.role="client":this.authUser.userType==this.userTypeEnum.Staff&&(this.role="staff"),this.setBreadcrumb(),this.authUser?.userType==this.userTypeEnum.Staff&&this.authUser?.userDetails?.isFromItrack?this.dmsUserName=this.authUser?.userDetails?.clientUserName:this.dmsUserName=this.authUser.username,this.dmsToken=this.authUser?.userDetails?.dmsToken}ngOnInit(){this.showContent=!1}onLoad(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/usermanagement?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPageDoc").contentWindow.location.replace(this.url)}setBreadcrumb(){this.breadcrumbService.setLinks(null)}};n.\u0275fac=function(o){return new(o||n)(_(x),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-documents"]],decls:2,vars:0,consts:[[1,"row","m-0","p-0",2,"position","relative","left","-8px","top","-8px","width","100%"],["id","layoutPageDoc",2,"width","100%","height","98vh","border","none","padding","0",3,"load"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"iframe",1),h("load",function(){return i.onLoad()}),l()())}});let e=n;return e})();var pt=(()=>{let n=class n{constructor(){this.link$=new ce({}),this.selectedLink$=this.link$.asObservable()}setLink(a){this.link$.next(a)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var V=e=>({active:e}),U=e=>({"show active":e}),Ut=()=>["fas","check-circle"],Ot=()=>["far","dot-circle"],Vt=()=>["far","circle"];function Pt(e,n){if(e&1&&(c(0,"span"),m(1," Business Type: "),c(2,"span",13),m(3),l()()),e&2){let t=u();s(3),y("",t.clientAccount==null||t.clientAccount.businessinfos[0]==null||t.clientAccount.businessinfos[0].businessType==null?null:t.clientAccount.businessinfos[0].businessType.displayName," ")}}function Lt(e,n){if(e&1&&(c(0,"span",63),m(1),l()),e&2){let t=u().$implicit;X("matTooltip",t.description),s(),y(" ",t.name,"")}}function Rt(e,n){if(e&1&&(c(0,"mat-step",61),d(1,Lt,2,2,"ng-template",62),l()),e&2){let t=n.$implicit;X("label",t.name),X("state",t.status),r("completed",!1)}}function jt(e,n){e&1&&v(0,"fa-icon",64),e&2&&r("icon",g(1,Ut))}function Bt(e,n){e&1&&v(0,"fa-icon",64),e&2&&r("icon",g(1,Ot))}function Qt(e,n){e&1&&v(0,"fa-icon",65),e&2&&r("icon",g(1,Vt))}function qt(e,n){if(e&1){let t=I();c(0,"button",27),h("click",function(){b(t);let o=u();return S(o.switchTab("tab-preparer-docs"))}),m(1," PREPARER DOCS "),l()}if(e&2){let t=u();r("ngClass",C(1,V,t.activeTab==="tab-preparer-docs"))}}function $t(e,n){if(e&1){let t=I();c(0,"button",66),h("click",function(){b(t);let o=u();return S(o.switchTab("tab-emailConversation"))}),m(1," EMAIL "),l()}if(e&2){let t=u();r("ngClass",C(1,V,t.activeTab==="tab-emailConversation"))}}function zt(e,n){if(e&1){let t=I();c(0,"button",67),h("click",function(){b(t);let o=u();return S(o.switchTab("tab-forms"))}),m(1," FORMS "),l()}if(e&2){let t=u();r("ngClass",C(1,V,t.activeTab==="tab-forms"))}}function Wt(e,n){if(e&1){let t=I();c(0,"button",68),h("click",function(){b(t);let o=u();return S(o.switchTab("tab-serviceInvoice"))}),m(1," INVOICE "),l()}if(e&2){let t=u();r("ngClass",C(1,V,t.activeTab==="tab-serviceInvoice"))}}function Jt(e,n){e&1&&(c(0,"div"),v(1,"app-no-records"),l())}function Ht(e,n){if(e&1){let t=I();c(0,"button",73),h("click",function(){b(t);let o=u(3);return S(o.switchActionitems("pills-forms"))}),m(1," FORMS "),l()}if(e&2){let t=u(3);r("ngClass",C(1,V,t.activeActionItemsTab==="pills-forms"))}}function Yt(e,n){e&1&&(c(0,"div",71),d(1,Ht,2,3,"button",72),l()),e&2&&(s(),r("ngIf",!1))}function Gt(e,n){if(e&1){let t=I();c(0,"div",71)(1,"button",74),h("click",function(){b(t);let o=u(2);return S(o.switchActionitems("pills-requiredDocs"))}),m(2," REQUIRED DOCS "),l()()}if(e&2){let t=u(2);s(),r("ngClass",C(1,V,t.activeActionItemsTab==="pills-requiredDocs"))}}function Kt(e,n){if(e&1){let t=I();c(0,"div",71)(1,"button",75),h("click",function(){b(t);let o=u(2);return S(o.switchActionitems("pills-Questionnaire"))}),m(2," QUESTIONNAIRE "),l()()}if(e&2){let t=u(2);s(),r("ngClass",C(1,V,t.activeActionItemsTab==="pills-Questionnaire"))}}function Xt(e,n){if(e&1){let t=I();c(0,"div",71)(1,"button",76),h("click",function(){b(t);let o=u(2);return S(o.switchActionitems("pills-serviceInvoice"))}),m(2," INVOICE "),l()()}if(e&2){let t=u(2);s(),r("ngClass",C(1,V,t.activeActionItemsTab==="pills-serviceInvoice"))}}function Zt(e,n){if(e&1){let t=I();c(0,"div",71)(1,"button",77),h("click",function(){b(t);let o=u(2);return S(o.switchActionitems("pills-Review"))}),m(2," REVIEW & SIGN "),l()()}if(e&2){let t=u(2);s(),r("ngClass",C(1,V,t.activeActionItemsTab==="pills-Review"))}}function ei(e,n){if(e&1){let t=I();c(0,"div",71)(1,"button",78),h("click",function(){b(t);let o=u(2);return S(o.switchActionitems("pills-Approvals"))}),m(2," APPROVALS "),l()()}if(e&2){let t=u(2);s(),r("ngClass",C(1,V,t.activeActionItemsTab==="pills-Approvals"))}}function ti(e,n){if(e&1&&(c(0,"div",69),d(1,Yt,2,1,"div",70)(2,Gt,3,3,"div",70)(3,Kt,3,3,"div",70)(4,Xt,3,3,"div",70)(5,Zt,3,3,"div",70)(6,ei,3,3,"div",70),l()),e&2){let t=u();s(),r("ngIf",t.taskFormVMs&&t.taskFormVMs.length>0),s(),r("ngIf",t.taskDocumentVMs&&t.taskDocumentVMs.length>0),s(),r("ngIf",t.taskQuestionVMs&&t.taskQuestionVMs.length>0),s(),r("ngIf",t.serviceInvoice&&t.serviceInvoice.invoiceStatus==t.invoiceStatusEnum.Created),s(),r("ngIf",t.reviewSigns&&t.reviewSigns.length>0),s(),r("ngIf",t.approvals&&t.approvals.length>0)}}function ii(e,n){if(e&1&&v(0,"app-client-profile",79),e&2){let t=u();r("clientAccountId",t.itrackClientAccountId)("clientServiceId",t.itrackTaskMasterId)("clientId",t.clientId)("tasksMasterObject",t.tasksMasterObject)("from","service")}}function ni(e,n){if(e&1&&v(0,"app-required-docs",80),e&2){let t=u();r("taskDocumentVMs",t.taskDocumentVMs)("snapdocFolderid",t.clientServiceDetails==null?null:t.clientServiceDetails.snapdocFolderid)}}function oi(e,n){if(e&1&&v(0,"app-action-questionnaires",81),e&2){let t=u();r("taskQuestionVMs",t.taskQuestionVMs)("snapdocFolderid",t.clientServiceDetails==null?null:t.clientServiceDetails.snapdocFolderid)}}function ai(e,n){if(e&1&&v(0,"app-service-invoice",82),e&2){let t=u();r("serviceInvoice",t.serviceInvoice)}}function ri(e,n){if(e&1&&v(0,"app-client-forms",83),e&2){let t=u();r("taskMaster",t.taskMaster)}}function si(e,n){if(e&1){let t=I();c(0,"iframe",84),h("load",function(){b(t);let o=u();return S(o.onLoad())}),l()}}function ci(e,n){if(e&1){let t=I();c(0,"iframe",85),h("load",function(){b(t);let o=u();return S(o.onLoadSharedDocs())}),l()}}function li(e,n){if(e&1){let t=I();c(0,"iframe",88),h("load",function(){b(t);let o=u(2);return S(o.onLoadPreparerDocs())}),l()}}function pi(e,n){if(e&1&&(c(0,"div",86),d(1,li,1,0,"iframe",87),l()),e&2){let t=u();r("ngClass",C(2,U,t.activeTab==="tab-preparer-docs")),s(),r("ngIf",t.clientServiceDetails&&t.clientServiceDetails.snapdocFolderid)}}function mi(e,n){if(e&1&&v(0,"app-client-questionnaire",83),e&2){let t=u();r("taskMaster",t.taskMaster)}}function ui(e,n){if(e&1&&v(0,"app-task-email",89),e&2){let t=u();r("tasksMasterObject",t.tasksMasterObject)}}function di(e,n){if(e&1&&v(0,"app-service-invoice",82),e&2){let t=u();r("serviceInvoice",t.serviceInvoice)}}var ut=(()=>{let n=class n{constructor(a,o,i,p,f,D,B,yt,kt){this.route=a,this.userLoginService=o,this.iTrackService=i,this.clientService=p,this.router=f,this.breadcrumbService=D,this.helpService=B,this.dialog=yt,this.cryptoService=kt,this.activeTab="tab-actionItems",this.activeActionItemsTab="pills-forms",this.userTypeEnum=M,this.invoiceStatusEnum=Qe,this.from="",this.clientAccount=null,this.taskMaster=null,this.env=w,this.taskDocumentVMs=[],this.taskFormVMs=[],this.taskQuestionVMs=[],this.taskStatusTimeLine=[],this.tasksMasterObject=null,this.isServiceInvoiceLoaded=!1,this.companyInfo=[],this.approvals=[],this.reviewSigns=[],this.url="",this.role="",this.dmsUserName="",this.dmsToken="",this.route.params.subscribe(oe=>{this.itrackClientAccountId=this.cryptoService.decryptString(oe.clientAccountId),this.itrackTaskMasterId=this.cryptoService.decryptString(oe.clientserviceId),this.from=oe.from,console.log(" this. this.from",this.from)}),this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(oe=>this.authUser=oe),this.authUser.userType==this.userTypeEnum.Client||this.authUser.userType==this.userTypeEnum.AssociateClient?this.role="client":this.authUser.userType==this.userTypeEnum.Staff&&(this.role="staff"),this.authUser?.userType==this.userTypeEnum.Staff&&this.authUser?.userDetails?.isFromItrack?this.dmsUserName=this.authUser?.userDetails?.clientUserName:this.dmsUserName=this.authUser.username,this.dmsToken=this.authUser?.userDetails?.dmsToken}ngOnInit(){this.isServiceInvoiceLoaded=!1,this.clientId=this.authUser.clientId,this.getClientAccounts(),this.getTaskMaster(),this.getClientServiceByItrackTaskMasterId(),this.getServiceInvoice()}getClientAccounts(){this.clientAccount=null;var a={clientId:0,clientAccountId:+this.itrackClientAccountId};this.iTrackService.getClientAccountsByClientId(a).subscribe(o=>{o&&o.length>0&&(this.clientAccount=o[0])})}getTaskMaster(){var a={taskMasterId:this.itrackTaskMasterId};this.iTrackService.getTasksMasterById(a).subscribe(o=>{o&&(this.tasksMasterObject=o,this.taskDocumentVMs=o?.taskDocumentVMs,this.taskFormVMs=o?.taskFormVMs,this.taskMaster=o?.taskMaster,this.taskQuestionVMs=o?.taskQuestionVMs,this.taskStatusTimeLine=o?.taskStatusTimeLine,this.taskDocumentVMs&&this.taskDocumentVMs.length>0&&(this.activeActionItemsTab="pills-requiredDocs"),this.setBreadcrumb())})}getServiceInvoice(){this.serviceInvoice=null,this.clientService.getServiceInvoiceByTaskMasterId(this.itrackTaskMasterId).subscribe(a=>{this.isServiceInvoiceLoaded=!0,a&&(this.serviceInvoice=a)})}switchTab(a){this.activeTab=a}switchActionitems(a){this.activeActionItemsTab=a}onLoad(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/mydocuments/0/"+this.clientServiceDetails.snapdocFolderid+"?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPageServices").contentWindow.location.replace(this.url)}onLoadSharedDocs(){var a={uid:this.dmsUserName,role:this.role,account:this.clientAccount.accountName,accounttype:this.clientAccount.accountType};this.url=this.env.snapDocUrl+"admin/mydocuments/1/"+this.clientServiceDetails.snapdocFolderid+"?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutSharedDocs").contentWindow.location.replace(this.url)}onLoadPreparerDocs(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/mydocuments/2/"+this.clientServiceDetails.snapdocFolderid+"?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPreparerDocs").contentWindow.location.replace(this.url)}onLoadMyRequiredDocs(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/mydocuments/0/"+this.clientServiceDetails.snapdocFolderid+"?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPageServices").contentWindow.location.replace(this.url)}getClientServiceByItrackTaskMasterId(){this.itrackTaskMasterId&&this.itrackTaskMasterId>0&&this.clientService.getClientServiceByItrackTaskMasterId(this.itrackTaskMasterId).subscribe(a=>{this.clientServiceDetails=a})}onClientClick(){this.router.navigate(["admin","landing","masterprofile",this.cryptoService.encryptString(this.itrackClientAccountId),this.cryptoService.encryptString(0),"clientaccount"])}onHelp(){var a="";this.activeTab==="tab-actionItems"?a=this.activeActionItemsTab:a=this.activeTab,this.dialog.open(Ye,{disableClose:!0,width:"550px",data:a,position:{bottom:"0.5rem",right:"0.5rem"}}).afterClosed().subscribe(i=>{i.modified})}setBreadcrumb(){var a="Common";+this.itrackClientAccountId==0?this.setWithCompanyName(a):this.breadcrumbService.getCompanyInfo().subscribe(o=>{this.companyInfo=o;var i=this.companyInfo.findIndex(p=>p.id==+this.itrackClientAccountId);i>=0&&(a=this.companyInfo[i].clientFullName,this.setWithCompanyName(a))})}setWithCompanyName(a){var o=[];this.from=="taskstatus"?o=[{name:a,link:"dashboard/"+this.cryptoService.encryptString(this.itrackClientAccountId),hasLink:!0},{name:this.taskMaster?.taskStatus?.description,link:"taskservices/"+this.taskMaster?.taskStatus?.description+"/taskstatus/"+this.cryptoService.encryptString(this.itrackClientAccountId),hasLink:!0},{name:this.taskMaster?.subject,link:"",hasLink:!1}]:this.from=="all"?o=[{name:"Services",link:"taskservices/All Services/all/0",hasLink:!0},{name:this.taskMaster?.subject,link:"",hasLink:!1}]:this.from=="tasktype"?o=[{name:a,link:"dashboard/"+this.cryptoService.encryptString(this.itrackClientAccountId),hasLink:!0},{name:this.taskMaster?.taskTypeCategoryName,link:"taskservices/"+this.taskMaster?.taskTypeCategoryName+"/tasktype/"+this.cryptoService.encryptString(this.itrackClientAccountId),hasLink:!0},{name:this.taskMaster?.subject,link:"",hasLink:!1}]:this.from=="ActionItem"&&(o=[{name:"Dashboard",link:"dashboard/"+this.cryptoService.encryptString(this.itrackClientAccountId)+"/"+this.from,hasLink:!0},{name:this.taskMaster?.subject,link:"",hasLink:!1}]);var i={displayName:this.taskMaster?.subject,links:o};this.breadcrumbService.setLinks(i)}};n.\u0275fac=function(o){return new(o||n)(_(W),_(x),_(Y),_(Be),_(J),_(A),_(pt),_(qe),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-services"]],decls:85,vars:83,consts:[["recordsAvailable",""],[1,"m-0"],[1,"row","mb-1"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-7"],[1,"card-title","m-0","p-0"],[1,"p-txt-clr","fw-bold"],[1,"small","mt-1","mb-1"],[1,"cursor-pointer","link-span","p-txt-clr","fw-bold",3,"click"],[1,"mt-2","p-txt-clr"],[1,"fw-bold","me-2"],[4,"ngIf"],[1,"fw-bold"],[1,"col-5",2,"margin-top","-5px !important"],["labelPosition","bottom",1,"m-0","p-0",2,"margin-top","-10px !important","margin-bottom","-15px !important",3,"disabled"],["editable","false",3,"label","state","completed",4,"ngFor","ngForOf"],["matStepperIcon","1",1,"mat-step-icon-bgclr"],["matStepperIcon","0"],["matStepperIcon","-1"],[1,"card","service-card","service-card-scroll",2,"border-top","0"],[1,"card-body","m-0","p-0"],[1,"col-auto","me-2"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["type","button","role","tab","aria-controls","nav-actionItems","aria-selected","true",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","nav-docs","aria-selected","false",1,"nav-link",3,"click","ngClass"],["class","nav-link","type","button","role","tab","aria-controls","nav-docs","aria-selected","false",3,"ngClass","click",4,"ngIf"],["class","nav-link","type","button","role","tab","aria-controls","nav-emailConversation","aria-selected","true",3,"ngClass","click",4,"ngIf"],["class","nav-link","type","button","role","tab","aria-controls","nav-forms","aria-selected","false",3,"ngClass","click",4,"ngIf"],["type","button","role","tab","aria-controls","nav-questionnaire","aria-selected","true",1,"nav-link",3,"click","ngClass"],["class","nav-link","type","button","role","tab","aria-controls","nav-serviceInvoice","aria-selected","true",3,"ngClass","click",4,"ngIf"],[1,"col","text-end","mt-2","me-2"],["type","button",1,"btn","btn-sm","app-btn","me-1",3,"click"],["id","nav-tabContent",1,"tab-content","mt-2"],["id","tab-actionItems","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],[4,"ngIf","ngIfElse"],["id","pills-tabContent",1,"tab-content","ms-2"],["id","pills-forms","role","tabpanel","aria-labelledby","pills-forms-tab",1,"tab-pane","fade",3,"ngClass"],[3,"clientAccountId","clientServiceId","clientId","tasksMasterObject","from",4,"ngIf"],["id","pills-requiredDocs","role","tabpanel","aria-labelledby","pills-requiredDocs-tab",1,"tab-pane","fade",3,"ngClass"],[3,"taskDocumentVMs","snapdocFolderid",4,"ngIf"],["id","pills-Questionnaire","role","tabpanel","aria-labelledby","pills-Questionnaire-tab",1,"tab-pane","fade",3,"ngClass"],[3,"taskQuestionVMs","snapdocFolderid",4,"ngIf"],["id","pills-ServiceInvoice","role","tabpanel","aria-labelledby","pills-ServiceInvoice-tab",1,"tab-pane","fade",3,"ngClass"],[3,"serviceInvoice",4,"ngIf"],["id","pills-Review","role","tabpanel","aria-labelledby","pills-Review-tab",1,"tab-pane","fade",3,"ngClass"],["id","pills-Approvals","role","tabpanel","aria-labelledby","pills-Approvals-tab",1,"tab-pane","fade",3,"ngClass"],["id","tab-forms","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],[3,"taskMaster",4,"ngIf"],["id","tab-docs","role","tabpanel",1,"tab-pane","fade","p-1",3,"ngClass"],["id","layoutPageServices","style","width: 100%; height: 64vh; border: none; padding: 0",3,"load",4,"ngIf"],["id","tab-shared-docs","role","tabpanel",1,"tab-pane","fade","p-1",3,"ngClass"],["id","layoutSharedDocs","style","width: 100%; height: 64vh; border: none; padding: 0",3,"load",4,"ngIf"],["class","tab-pane fade ","id","tab-preparer-docs","role","tabpanel",3,"ngClass",4,"ngIf"],["id","tab-questionnaire","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],["id","tab-myApprovals","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],["id","tab-emailConversation","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],[3,"tasksMasterObject",4,"ngIf"],["id","tab-serviceInvoice","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],["editable","false",3,"label","state","completed"],["matStepLabel",""],[3,"matTooltip"],["size","xl",1,"p-color",3,"icon"],["size","xl",1,"text-muted",3,"icon"],["type","button","role","tab","aria-controls","nav-emailConversation","aria-selected","true",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","nav-forms","aria-selected","false",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","nav-serviceInvoice","aria-selected","true",1,"nav-link",3,"click","ngClass"],["id","pills-tab","role","tablist",1,"nav","nav-pills","ms-2","mb-3","border-bottom-atnitems","pb-2"],["class","nav-item","role","presentation",4,"ngIf"],["role","presentation",1,"nav-item"],["class","nav-link","type","button","role","tab","aria-controls","pills-forms","aria-selected","true",3,"ngClass","click",4,"ngIf"],["type","button","role","tab","aria-controls","pills-forms","aria-selected","true",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","pills-requiredDocs","aria-selected","false",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","pills-Questionnaire","aria-selected","false",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","pills-serviceInvoice","aria-selected","false",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","pills-Review","aria-selected","false",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","pills-Approvals","aria-selected","false",1,"nav-link",3,"click","ngClass"],[3,"clientAccountId","clientServiceId","clientId","tasksMasterObject","from"],[3,"taskDocumentVMs","snapdocFolderid"],[3,"taskQuestionVMs","snapdocFolderid"],[3,"serviceInvoice"],[3,"taskMaster"],["id","layoutPageServices",2,"width","100%","height","64vh","border","none","padding","0",3,"load"],["id","layoutSharedDocs",2,"width","100%","height","64vh","border","none","padding","0",3,"load"],["id","tab-preparer-docs","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],["id","layoutPreparerDocs","style","width: 100%; height: 64vh; border: none; padding: 0",3,"load",4,"ngIf"],["id","layoutPreparerDocs",2,"width","100%","height","64vh","border","none","padding","0",3,"load"],[3,"tasksMasterObject"]],template:function(o,i){if(o&1){let p=I();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"span",9),m(9),l()(),c(10,"div",10)(11,"span",11),h("click",function(){return b(p),S(i.onClientClick())}),m(12),l()(),c(13,"div",12),m(14," Service Id: "),c(15,"span",13),m(16),l(),d(17,Pt,4,1,"span",14),m(18," Created On: "),c(19,"span",13),m(20),N(21,"date"),l(),m(22," Tax/Service Year: "),c(23,"span",15),m(24),l()()(),c(25,"div",16)(26,"mat-stepper",17),d(27,Rt,2,3,"mat-step",18)(28,jt,1,2,"ng-template",19)(29,Bt,1,2,"ng-template",20)(30,Qt,1,2,"ng-template",21),l()()()()()()(),c(31,"div",22)(32,"div",23)(33,"div",6)(34,"div",24)(35,"nav")(36,"div",25)(37,"button",26),h("click",function(){return b(p),S(i.switchTab("tab-actionItems"))}),m(38," ACTION ITEMS "),l(),c(39,"button",27),h("click",function(){return b(p),S(i.switchTab("tab-docs"))}),m(40," MY DOCS "),l(),c(41,"button",27),h("click",function(){return b(p),S(i.switchTab("tab-shared-docs"))}),m(42," SHARED DOCS "),l(),d(43,qt,2,3,"button",28)(44,$t,2,3,"button",29)(45,zt,2,3,"button",30),c(46,"button",31),h("click",function(){return b(p),S(i.switchTab("tab-questionnaire"))}),m(47," QUESTIONNAIRE "),l(),d(48,Wt,2,3,"button",32),l()()(),c(49,"div",33)(50,"button",34),h("click",function(){return b(p),S(i.onHelp())}),m(51," Help "),l()()(),c(52,"div",35)(53,"div",36),d(54,Jt,2,0,"div",37)(55,ti,7,6,"ng-template",null,0,de),c(57,"div",38)(58,"div",39),d(59,ii,1,5,"app-client-profile",40),l(),c(60,"div",41),d(61,ni,1,2,"app-required-docs",42),l(),c(62,"div",43),d(63,oi,1,2,"app-action-questionnaires",44),l(),c(64,"div",45),d(65,ai,1,1,"app-service-invoice",46),l(),c(66,"div",47),m(67," Review & Sign content here... "),l(),c(68,"div",48),m(69," Approvals content here... "),l()()(),c(70,"div",49),d(71,ri,1,1,"app-client-forms",50),l(),c(72,"div",51),d(73,si,1,0,"iframe",52),l(),c(74,"div",53),d(75,ci,1,0,"iframe",54),l(),d(76,pi,2,4,"div",55),c(77,"div",56),d(78,mi,1,1,"app-client-questionnaire",50),l(),c(79,"div",57),m(80," Content for myApprovals tab goes here... "),l(),c(81,"div",58),d(82,ui,1,1,"app-task-email",59),l(),c(83,"div",60),d(84,di,1,1,"app-service-invoice",46),l()()()()()}if(o&2){let p=ue(56);s(9),P(" ",i.taskMaster==null?null:i.taskMaster.taskTypeCategoryName," : ",i.taskMaster==null?null:i.taskMaster.subject," "),s(3),y(" ",i.clientAccount==null?null:i.clientAccount.clientFullName," "),s(4),L(i.taskMaster==null?null:i.taskMaster.taskCode),s(),r("ngIf",(i.clientAccount==null?null:i.clientAccount.accountType)==2),s(3),L(R(21,44,i.taskMaster==null?null:i.taskMaster.dateCreated,i.env.shortDateFormat)),s(4),L(i.taskMaster==null?null:i.taskMaster.filingYear),s(2),r("disabled",!0),s(),r("ngForOf",i.taskStatusTimeLine),s(10),r("ngClass",C(47,V,i.activeTab==="tab-actionItems")),s(2),r("ngClass",C(49,V,i.activeTab==="tab-docs")),s(2),r("ngClass",C(51,V,i.activeTab==="tab-shared-docs")),s(2),r("ngIf",i.authUser.userType==i.userTypeEnum.Staff),s(),r("ngIf",!1),s(),r("ngIf",!1),s(),r("ngClass",C(53,V,i.activeTab==="tab-questionnaire")),s(2),r("ngIf",!1),s(5),r("ngClass",C(55,U,i.activeTab==="tab-actionItems")),s(),r("ngIf",(i.taskFormVMs==null?null:i.taskFormVMs.length)<=0&&(i.taskDocumentVMs==null?null:i.taskDocumentVMs.length)<=0&&(i.taskQuestionVMs==null?null:i.taskQuestionVMs.length)<=0)("ngIfElse",p),s(4),r("ngClass",C(57,U,i.activeActionItemsTab==="pills-forms")),s(),r("ngIf",i.clientAccount&&i.tasksMasterObject&&!1),s(),r("ngClass",C(59,U,i.activeActionItemsTab==="pills-requiredDocs")),s(),r("ngIf",i.taskDocumentVMs&&i.taskDocumentVMs.length>0&&i.clientServiceDetails),s(),r("ngClass",C(61,U,i.activeActionItemsTab==="pills-Questionnaire")),s(),r("ngIf",i.taskQuestionVMs&&i.taskQuestionVMs.length>0),s(),r("ngClass",C(63,U,i.activeActionItemsTab==="pills-serviceInvoice")),s(),r("ngIf",i.serviceInvoice),s(),r("ngClass",C(65,U,i.activeActionItemsTab==="pills-Review")),s(2),r("ngClass",C(67,U,i.activeActionItemsTab==="pills-Approvals")),s(2),r("ngClass",C(69,U,i.activeTab==="tab-forms")),s(),r("ngIf",i.taskMaster&&i.activeTab==="tab-forms"),s(),r("ngClass",C(71,U,i.activeTab==="tab-docs")),s(),r("ngIf",i.clientServiceDetails&&i.clientServiceDetails.snapdocFolderid&&i.activeTab=="tab-docs"),s(),r("ngClass",C(73,U,i.activeTab==="tab-shared-docs")),s(),r("ngIf",i.clientServiceDetails&&i.clientServiceDetails.snapdocFolderid&&i.activeTab=="tab-shared-docs"),s(),r("ngIf",i.authUser.userType==i.userTypeEnum.Staff),s(),r("ngClass",C(75,U,i.activeTab==="tab-questionnaire")),s(),r("ngIf",i.taskMaster&&i.activeTab==="tab-questionnaire"),s(),r("ngClass",C(77,U,i.activeTab==="tab-myApprovals")),s(2),r("ngClass",C(79,U,i.activeTab==="tab-emailConversation")),s(),r("ngIf",i.tasksMasterObject),s(),r("ngClass",C(81,U,i.activeTab==="tab-serviceInvoice")),s(),r("ngIf",i.isServiceInvoiceLoaded)}},dependencies:[Z,$,j,H,_e,Xe,Ze,et,tt,it,nt,ee,ot,We,$e,Je,ze,z],styles:[".container[_ngcontent-%COMP%]{padding-left:.1rem;padding-right:.1rem}.service-card-scroll[_ngcontent-%COMP%]{height:75vh;width:100%;overflow:auto}.service-card[_ngcontent-%COMP%]{min-height:75vh}.nav-link.active[_ngcontent-%COMP%]{color:#00c6ff}.nav-link[_ngcontent-%COMP%]{color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#f5f9fa;color:#00c6ff}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#00c6ff}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.link-span[_ngcontent-%COMP%]{cursor:pointer;color:#00f;text-decoration:underline}  .mat-step-header .mat-step-icon{background-color:#fff}.border-bottom-atnitems[_ngcontent-%COMP%]{border-bottom:1px solid #d3d6da!important}  .mat-step-header .mat-step-icon-selected{background-color:#fff}[_nghost-%COMP%]     .mat-horizontal-content-container{padding:0!important}[_nghost-%COMP%]     .mat-horizontal-stepper-wrapper{margin-bottom:-15px!important}"]});let e=n;return e})();var dt=(()=>{let n=class n{constructor(a,o,i){this.userLoginService=a,this.breadcrumbService=o,this.cryptoService=i,this.url="",this.env=w,this.role="",this.userTypeEnum=M,this.dmsUserName="",this.dmsToken="",this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(p=>this.authUser=p),this.authUser.userType==this.userTypeEnum.Client||this.authUser.userType==this.userTypeEnum.AssociateClient?this.role="client":this.authUser.userType==this.userTypeEnum.Staff&&(this.role="staff"),this.setBreadcrumb(),this.authUser?.userType==this.userTypeEnum.Staff&&this.authUser?.userDetails?.isFromItrack?this.dmsUserName=this.authUser?.userDetails?.clientUserName:this.dmsUserName=this.authUser.username,this.dmsToken=this.authUser?.userDetails?.dmsToken}ngOnInit(){}onLoad(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/recent?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPageRecent").contentWindow.location.replace(this.url)}setBreadcrumb(){this.breadcrumbService.setLinks(null)}};n.\u0275fac=function(o){return new(o||n)(_(x),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-recent"]],decls:2,vars:0,consts:[[1,"row","m-0","p-0",2,"position","relative","left","-8px","top","-8px","width","100%"],["id","layoutPageRecent",2,"width","100%","height","98vh","border","none","padding","0",3,"load"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"iframe",1),h("load",function(){return i.onLoad()}),l()())}});let e=n;return e})();var vt=(()=>{let n=class n{constructor(a,o,i){this.userLoginService=a,this.breadcrumbService=o,this.cryptoService=i,this.env=w,this.url="",this.showContent=!1,this.role="",this.userTypeEnum=M,this.dmsUserName="",this.dmsToken="",this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(p=>this.authUser=p),this.authUser.userType==this.userTypeEnum.Client||this.authUser.userType==this.userTypeEnum.AssociateClient?this.role="client":this.authUser.userType==this.userTypeEnum.Staff&&(this.role="staff"),this.setBreadcrumb(),this.authUser?.userType==this.userTypeEnum.Staff&&this.authUser?.userDetails?.isFromItrack?this.dmsUserName=this.authUser?.userDetails?.clientUserName:this.dmsUserName=this.authUser.username,this.dmsToken=this.authUser?.userDetails?.dmsToken}ngOnInit(){this.showContent=!1}onLoad(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/myfavorite?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPageFav").contentWindow.location.replace(this.url)}setBreadcrumb(){this.breadcrumbService.setLinks(null)}};n.\u0275fac=function(o){return new(o||n)(_(x),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-favorites"]],decls:2,vars:0,consts:[[1,"row","m-0","p-0",2,"position","relative","left","-8px","top","-8px","width","100%"],["id","layoutPageFav",2,"width","100%","height","98vh","border","none","padding","0",3,"load"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"iframe",1),h("load",function(){return i.onLoad()}),l()())}});let e=n;return e})();var vi=["imatsort"],fi=()=>["fas","search"],ie=()=>["fas","chevron-down"],ne=()=>["fas","chevron-up"],hi=()=>["fas","user"],_i=()=>["fas","building"];function Ci(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ie))}function gi(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ne))}function bi(e,n){if(e&1&&(c(0,"span"),d(1,Ci,1,2,"fa-icon",21)(2,gi,1,2,"fa-icon",21),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function Si(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ie))}function yi(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ne))}function ki(e,n){if(e&1&&(c(0,"span"),d(1,Si,1,2,"fa-icon",21)(2,yi,1,2,"fa-icon",21),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function Ii(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ie))}function Ti(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ne))}function xi(e,n){if(e&1&&(c(0,"span"),d(1,Ii,1,2,"fa-icon",21)(2,Ti,1,2,"fa-icon",21),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function Ai(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ie))}function wi(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ne))}function Ei(e,n){if(e&1&&(c(0,"span"),d(1,Ai,1,2,"fa-icon",21)(2,wi,1,2,"fa-icon",21),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function Di(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ie))}function Mi(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ne))}function Fi(e,n){if(e&1&&(c(0,"span"),d(1,Di,1,2,"fa-icon",21)(2,Mi,1,2,"fa-icon",21),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function Ni(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ie))}function Ui(e,n){e&1&&v(0,"fa-icon",22),e&2&&r("icon",g(1,ne))}function Oi(e,n){if(e&1&&(c(0,"span"),d(1,Ni,1,2,"fa-icon",21)(2,Ui,1,2,"fa-icon",21),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function Vi(e,n){e&1&&v(0,"fa-icon",30),e&2&&r("icon",g(1,hi))}function Pi(e,n){e&1&&v(0,"fa-icon",30),e&2&&r("icon",g(1,_i))}function Li(e,n){if(e&1){let t=I();c(0,"div",23),h("click",function(){let o=b(t).$implicit,i=u();return S(i.onRowClick(o))}),c(1,"div",24)(2,"span"),d(3,Vi,1,2,"fa-icon",25)(4,Pi,1,2,"fa-icon",25),l()(),c(5,"div",26)(6,"span",27),m(7),l()(),c(8,"div",16)(9,"span"),N(10,"date"),m(11),N(12,"date"),l()(),c(13,"div",28)(14,"span"),m(15),N(16,"slice"),l()(),c(17,"div",29),m(18),N(19,"slice"),l(),c(20,"div",16)(21,"span"),m(22),N(23,"slice"),l()()()}if(e&2){let t=n.$implicit,a=u();s(2),F("title",t==null?null:t.accountType),s(),r("ngIf",(t==null?null:t.accountType)===1),s(),r("ngIf",(t==null?null:t.accountType)===2),s(2),F("title",t==null?null:t.shortCode),s(),y(" ",t==null?null:t.shortCode," "),s(2),F("title",R(10,16,t==null?null:t.dateCreated,a.env.shortDateFormat)),s(2),y(" ",R(12,19,t==null?null:t.dateCreated,a.env.shortDateFormat)," "),s(3),F("title",t==null?null:t.clientFullName),s(),P(" ",K(16,22,t==null?null:t.clientFullName,0,40)," ",(t==null||t.clientFullName==null?null:t.clientFullName.length)>40?"...":""," "),s(2),F("title",t==null?null:t.accountStatus),s(),P(" ",K(19,26,t==null?null:t.accountStatus,0,30)," ",(t==null||t.accountStatus==null?null:t.accountStatus.length)>30?"...":""," "),s(3),F("title",t==null?null:t.clientRelationName),s(),P(" ",K(23,30,t==null?null:t.clientRelationName,0,30)," ",(t==null?null:t.clientRelationName.length)>30?"...":""," ")}}function Ri(e,n){e&1&&v(0,"app-no-records")}var ft=(()=>{let n=class n{constructor(a,o,i,p,f,D){this.iTrackService=a,this.userLoginService=o,this.route=i,this.router=p,this.breadcrumbService=f,this.cryptoService=D,this.env=w,this.searchText="",this.sortedColumn="",this.sortDirection="asc",this.filteredData=[],this.hoveredColumn=null,this.idataSource=[],this.colNames=["accountType","shortCode","dateCreated","clientFullName","accountStatus","clientRelation","action"],this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(B=>this.authUser=B),this.setBreadcrumb()}ngOnInit(){this.authUser&&this.getClientAccounts()}getClientAccounts(){if(this.authUser?.clientId>0){var a={clientId:this.authUser.clientId,clientAccountId:0};this.iTrackService.getClientAccountsByClientId(a).subscribe(o=>{o.map(i=>(i.accountStatus=i.accountStatus?.displayName,i.clientRelationName=i.clientRelation?.fullName)),this.idataSource=o,this.filteredData=o})}}applyFilter(a){let o=a.target.value.toLowerCase(),i=["accountType","shortCode","dateCreated","clientFullName","accountStatus","clientRelation","action"];this.filteredData=this.idataSource.filter(p=>i.some(f=>{let D=this.getColumnValue(p,f);return typeof D=="string"&&D.toLowerCase().includes(o)}))}getColumnValue(a,o){let i=o.split("."),p=a;for(let f of i)if(p)p=p[f];else return null;return p}onRowClick(a){this.router.navigate(["admin","landing","masterprofile",this.cryptoService.encryptString(a.id),this.cryptoService.encryptString(0),"clientaccount"])}sortData(a){this.sortedColumn===a?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortedColumn=a,this.sortDirection="asc"),this.filteredData.sort((o,i)=>{let p=o[a],f=i[a];return p<f?this.sortDirection==="asc"?-1:1:p>f?this.sortDirection==="asc"?1:-1:0})}setBreadcrumb(){var a=[];a=[{name:"Profile",link:"",hasLink:!0}];var o={displayName:"Profile",links:a};this.breadcrumbService.setLinks(o)}};n.\u0275fac=function(o){return new(o||n)(_(Y),_(x),_(W),_(J),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-clientAccounts"]],viewQuery:function(o,i){if(o&1&&we(vi,5),o&2){let p;Ee(p=De())&&(i.isort=p.first)}},decls:41,vars:11,consts:[[1,"m-0"],[1,"card","m-0","p-0"],[1,"card-header","app-card-header"],[1,"row"],[1,"col","mt-2"],[1,"col-3","text-end"],[1,"input-group",2,"display","block"],[1,"input-search"],["type","text","name","searchText","placeholder","Search....",1,"form-control",3,"input","value"],[1,"search-input-icon",3,"icon"],[1,"card-body","scroll"],[1,"row","pb-2","pt-2","task-header-row","cursor-pointer"],[1,"col-1","p-txt-clr"],[1,"ms-1"],[1,"mt-2","p-txt-clr",3,"click","mouseenter","mouseleave"],[4,"ngIf"],[1,"col-2","p-txt-clr"],[1,"col-3","p-txt-clr",3,"click","mouseenter","mouseleave"],[1,"col-2","p-txt-clr",3,"click","mouseenter","mouseleave"],["class","row pt-2 pb-2 cursor-pointer task-data-row",3,"click",4,"ngFor","ngForOf"],[1,"text-center",2,"padding","15px"],["size","xs",3,"icon",4,"ngIf"],["size","xs",3,"icon"],[1,"row","pt-2","pb-2","cursor-pointer","task-data-row",3,"click"],[1,"col-1"],[3,"icon",4,"ngIf"],[1,"col-2"],[1,"ms-1","p-txt-clr"],[1,"col-3","p-txt-clr"],[1,"col-2","p-txt-clr",2,"font-size","small"],[3,"icon"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span")(6,"strong"),m(7,"Client Accounts"),l()()(),c(8,"div",5)(9,"div",6)(10,"div",7)(11,"input",8),h("input",function(f){return i.applyFilter(f)}),l(),v(12,"fa-icon",9),l()()()()(),c(13,"div",10)(14,"div",11)(15,"div",12)(16,"span",13)(17,"span",14),h("click",function(){return i.sortData("accountType")})("mouseenter",function(){return i.hoveredColumn="accountType"})("mouseleave",function(){return i.hoveredColumn=null}),m(18," Type "),d(19,bi,3,2,"span",15),l()()(),c(20,"div",16)(21,"span",13)(22,"span",14),h("click",function(){return i.sortData("shortCode")})("mouseenter",function(){return i.hoveredColumn="shortCode"})("mouseleave",function(){return i.hoveredColumn=null}),m(23," Short Code "),d(24,ki,3,2,"span",15),l()()(),c(25,"div",16)(26,"span",14),h("click",function(){return i.sortData("dateCreated")})("mouseenter",function(){return i.hoveredColumn="dateCreated"})("mouseleave",function(){return i.hoveredColumn=null}),m(27," Created Date "),d(28,xi,3,2,"span",15),l()(),c(29,"div",17),h("click",function(){return i.sortData("clientFullName")})("mouseenter",function(){return i.hoveredColumn="clientFullName"})("mouseleave",function(){return i.hoveredColumn=null}),m(30," Name "),d(31,Ei,3,2,"span",15),l(),c(32,"div",18),h("click",function(){return i.sortData("accountStatus")})("mouseenter",function(){return i.hoveredColumn="accountStatus"})("mouseleave",function(){return i.hoveredColumn=null}),m(33," Account Status "),d(34,Fi,3,2,"span",15),l(),c(35,"div",18),h("click",function(){return i.sortData("clientRelationName")})("mouseenter",function(){return i.hoveredColumn="clientRelationName"})("mouseleave",function(){return i.hoveredColumn=null}),m(36," Client Relation "),d(37,Oi,3,2,"span",15),l()(),d(38,Li,24,34,"div",19),c(39,"div",20),d(40,Ri,1,0,"app-no-records",15),l()()()()),o&2&&(s(11),r("value",i.searchText),s(),r("icon",g(10,fi)),s(7),r("ngIf",i.sortedColumn==="accountType"||i.hoveredColumn==="accountType"),s(5),r("ngIf",i.sortedColumn==="shortCode"||i.hoveredColumn==="shortCode"),s(4),r("ngIf",i.sortedColumn==="dateCreated"||i.hoveredColumn==="dateCreated"),s(3),r("ngIf",i.sortedColumn==="clientFullName"||i.hoveredColumn==="clientFullName"),s(3),r("ngIf",i.sortedColumn==="accountStatus"||i.hoveredColumn==="accountStatus"),s(3),r("ngIf",i.sortedColumn==="clientRelationName"||i.hoveredColumn==="clientRelationName"),s(),r("ngForOf",i.filteredData),s(2),r("ngIf",(i.idataSource==null?null:i.idataSource.length)<=0))},dependencies:[$,j,H,ee,ve,z],styles:[".scroll[_ngcontent-%COMP%]{height:83vh;max-height:83vh;width:100%;overflow:hidden}.scroll[_ngcontent-%COMP%]:hover{overflow-y:auto}.input-search[_ngcontent-%COMP%]{position:relative;display:block!important}.search-input-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:9px;z-index:3}.criteria-icon-action[_ngcontent-%COMP%]{color:#cfcfcf}.task-header-row[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:1px #cdcaca solid;border-top:1px #cdcaca solid}.task-data-row[_ngcontent-%COMP%]{font-size:13px;border-bottom:1px #cdcaca solid}"]});let e=n;return e})();var ge=e=>({active:e}),ae=e=>({"show active":e});function ji(e,n){if(e&1&&(c(0,"div",26)(1,"div",27),m(2," Business: "),c(3,"strong"),m(4),l()(),c(5,"div",27),m(6,"EIN:"),l(),c(7,"div",27),m(8," Entity Registration State: "),c(9,"strong"),m(10),l()(),c(11,"div",27),m(12,"Entity Status in State:"),l()()),e&2){let t=u();s(4),y("",t.clientAccount==null||t.clientAccount.businessinfos[0]==null||t.clientAccount.businessinfos[0].businessType==null?null:t.clientAccount.businessinfos[0].businessType.name," "),s(6),y("",t.clientAccount==null||t.clientAccount.businessinfos[0]==null||t.clientAccount.businessinfos[0].formationStateNavigation==null?null:t.clientAccount.businessinfos[0].formationStateNavigation.name," ")}}function Bi(e,n){if(e&1&&(c(0,"div",26)(1,"div",27),m(2,"Filing Period:"),l(),c(3,"div",27),m(4," Date of Registration: "),c(5,"strong"),m(6),N(7,"date"),l()(),c(8,"div",27),m(9,"Annual Filing Due On:"),l(),c(10,"div",27),m(11,"Access to Associates:"),l()()),e&2){let t=u();s(6),L(R(7,1,t.clientAccount==null||t.clientAccount.businessinfos[0]==null?null:t.clientAccount.businessinfos[0].formationDate,"mediumDate"))}}function Qi(e,n){if(e&1&&(c(0,"div",26)(1,"div",27),m(2," Name: "),c(3,"strong"),m(4),l()(),c(5,"div",27),m(6," Tel Number: "),c(7,"strong"),m(8),l()(),c(9,"div",27),m(10," e-mail id: "),c(11,"strong"),m(12),l()(),c(13,"div",27),m(14,"Filing Status:"),l()()),e&2){let t=u();s(4),P("",t.clientAccount==null||t.clientAccount.client==null?null:t.clientAccount.client.firstname," ",t.clientAccount==null||t.clientAccount.client==null?null:t.clientAccount.client.lastname,""),s(4),y("",t.clientAccount==null||t.clientAccount.client==null?null:t.clientAccount.client.phone," "),s(4),y("",t.clientAccount==null||t.clientAccount.client==null?null:t.clientAccount.client.email," ")}}function qi(e,n){e&1&&(c(0,"div",26)(1,"div",27),m(2,"DoB:"),l(),c(3,"div",27),m(4,"Citizen of:"),l(),c(5,"div",27),m(6,"Immigration Status:"),l(),c(7,"div",27),m(8,"Has IRS PIN:"),v(9,"strong"),l()())}function $i(e,n){if(e&1){let t=I();c(0,"button",28),h("click",function(){b(t);let o=u();return S(o.switchActionitems("pills-actionItems"))}),m(1," ACTION ITEMS "),l()}if(e&2){let t=u();r("ngClass",C(1,ge,t.activeActionItemsTab==="pills-actionItems"))}}function zi(e,n){if(e&1&&v(0,"app-client-profile",29),e&2){let t=u();r("clientAccountId",t.clientAccountId)("clientServiceId",t.clientServiceId)("clientId",t.clientId)("accountType",t.clientAccount==null?null:t.clientAccount.accountType)("from","masterProfile")}}function Wi(e,n){if(e&1&&v(0,"app-business-associate-users",30),e&2){let t=u();r("clientAccountId",t.clientAccountId)}}var ht=(()=>{let n=class n{constructor(a,o,i,p,f){this.route=a,this.iTrackService=o,this.userLoginService=i,this.breadcrumbService=p,this.cryptoService=f,this.from="",this.clientAccount=null,this.permanentDocsUrl="",this.activeTab="tab-content1",this.activeActionItemsTab="pills-forms",this.companyInfo=[],this.env=w,this.role="",this.userTypeEnum=M,this.dmsUserName="",this.dmsToken="",this.route.params.subscribe(D=>{this.clientAccountId=this.cryptoService.decryptString(D.clientAccountId),this.clientServiceId=this.cryptoService.decryptString(D.clientserviceId),this.from=D.from}),this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(D=>this.authUser=D),this.authUser.userType==this.userTypeEnum.Client||this.authUser.userType==this.userTypeEnum.AssociateClient?this.role="client":this.authUser.userType==this.userTypeEnum.Staff&&(this.role="staff"),this.authUser?.userType==this.userTypeEnum.Staff&&this.authUser?.userDetails?.isFromItrack?this.dmsUserName=this.authUser?.userDetails?.clientUserName:this.dmsUserName=this.authUser.username,this.dmsToken=this.authUser?.userDetails?.dmsToken,this.setBreadcrumb()}ngOnInit(){this.clientId=this.authUser.clientId,this.getClientAccounts()}getClientAccounts(){this.clientAccount=null;var a={clientId:0,clientAccountId:this.clientAccountId};this.iTrackService.getClientAccountsByClientId(a).subscribe(o=>{o&&o.length>0&&(this.clientAccount=o[0],this.onpermanentDocsLoad())})}switchTab(a){this.activeTab=a}switchActionitems(a){this.activeActionItemsTab=a}setBreadcrumb(){var a="";this.breadcrumbService.getCompanyInfo().subscribe(o=>{this.companyInfo=o;var i=this.companyInfo.findIndex(p=>p.id==+this.clientAccountId);i>=0&&(a=this.companyInfo[i].clientFullName,this.setWithCompanyName(a))})}setWithCompanyName(a){var o=[{name:"Profile",link:"profile",hasLink:!0},{name:a,link:"",hasLink:!1}],i={displayName:a,links:o};this.breadcrumbService.setLinks(i)}onpermanentDocsLoad(){var a={uid:this.dmsUserName,role:this.role,account:this.clientAccount.accountName,accounttype:this.clientAccount.accountType};this.permanentDocsUrl=this.env.snapDocUrl+"admin/permanent/0?params="+encodeURIComponent(this.cryptoService.encryptString(JSON.stringify(a))),document.getElementById("layoutPermanentDocsPageDoc").contentWindow.location.replace(this.permanentDocsUrl)}};n.\u0275fac=function(o){return new(o||n)(_(W),_(Y),_(x),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-client-master-profile"]],decls:35,vars:32,consts:[[1,"m-0"],[1,"row","mb-1"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title","m-0"],["class","row mt-2",4,"ngIf"],[1,"card","master-card","master-card-scroll",2,"border-top","0"],[1,"card-body","m-0","p-0"],[1,"row"],[1,"col-auto","me-2"],["id","pills-tab","role","tablist",1,"nav","nav-tabs"],["class","nav-link","type","button","role","tab","aria-controls","pills-actionItems","aria-selected","true",3,"ngClass","click",4,"ngIf"],["type","button","role","tab","aria-controls","pills-forms","aria-selected","true",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","pills-requiredDocs","aria-selected","false",1,"nav-link",3,"click","ngClass"],["type","button","role","tab","aria-controls","pills-contact","aria-selected","false",1,"nav-link",3,"click","ngClass"],["id","nav-tabContent",1,"tab-content","mt-2"],["id","tab-content1","role","tabpanel",1,"tab-pane","fade",3,"ngClass"],["id","pills-tabContent",1,"tab-content"],["id","pills-actionItems","role","tabpanel","aria-labelledby","pills-actionItems-tab",1,"tab-pane","fade",3,"ngClass"],["id","pills-forms","role","tabpanel","aria-labelledby","pills-forms-tab",1,"tab-pane","fade",3,"ngClass"],[3,"clientAccountId","clientServiceId","clientId","accountType","from",4,"ngIf"],["id","pills-requiredDocs","role","tabpanel","aria-labelledby","pills-requiredDocs-tab",1,"tab-pane","fade",3,"ngClass"],["id","layoutPermanentDocsPageDoc",2,"width","100%","height","100vh","border","none"],["id","pills-contact","role","tabpanel","aria-labelledby","pills-contact-tab",1,"tab-pane","fade",3,"ngClass"],[3,"clientAccountId",4,"ngIf"],[1,"row","mt-2"],[1,"col"],["type","button","role","tab","aria-controls","pills-actionItems","aria-selected","true",1,"nav-link",3,"click","ngClass"],[3,"clientAccountId","clientServiceId","clientId","accountType","from"],[3,"clientAccountId"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5)(6,"strong"),m(7),l()(),d(8,ji,13,2,"div",6)(9,Bi,12,4,"div",6)(10,Qi,15,4,"div",6)(11,qi,10,0,"div",6),l()()()(),c(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"nav")(17,"div",11),d(18,$i,2,3,"button",12),c(19,"button",13),h("click",function(){return i.switchActionitems("pills-forms")}),m(20," FORMS "),l(),c(21,"button",14),h("click",function(){return i.switchActionitems("pills-requiredDocs")}),m(22," PERSONAL DOCS "),l(),c(23,"button",15),h("click",function(){return i.switchActionitems("pills-contact")}),m(24," ASSOCIATES "),l()()()()(),c(25,"div",16)(26,"div",17)(27,"div",18),v(28,"div",19),c(29,"div",20),d(30,zi,1,5,"app-client-profile",21),l()()(),c(31,"div",22),v(32,"iframe",23),l(),c(33,"div",24),d(34,Wi,1,1,"app-business-associate-users",25),l()()()()()),o&2&&(s(7),L(i.clientAccount==null?null:i.clientAccount.clientFullName),s(),r("ngIf",(i.clientAccount==null?null:i.clientAccount.accountType)==2),s(),r("ngIf",(i.clientAccount==null?null:i.clientAccount.accountType)==2),s(),r("ngIf",(i.clientAccount==null?null:i.clientAccount.accountType)==1),s(),r("ngIf",(i.clientAccount==null?null:i.clientAccount.accountType)==1),s(7),r("ngIf",!1),s(),r("ngClass",C(16,ge,i.activeActionItemsTab==="pills-forms")),s(2),r("ngClass",C(18,ge,i.activeActionItemsTab==="pills-requiredDocs")),s(2),r("ngClass",C(20,ge,i.activeActionItemsTab==="pills-contact")),s(3),r("ngClass",C(22,ae,i.activeTab==="tab-content1")),s(2),r("ngClass",C(24,ae,i.activeActionItemsTab==="pills-actionItems")),s(),r("ngClass",C(26,ae,i.activeActionItemsTab==="pills-forms")),s(),r("ngIf",i.clientAccount),s(),r("ngClass",C(28,ae,i.activeActionItemsTab==="pills-requiredDocs")),s(2),r("ngClass",C(30,ae,i.activeActionItemsTab==="pills-contact")),s(),r("ngIf",i.clientAccountId&&i.clientAccountId>0))},dependencies:[Z,j,_e,at,z],styles:[".nav-link.active[_ngcontent-%COMP%]{color:#00c6ff}.nav-link[_ngcontent-%COMP%]{color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#00c8ffa8;color:#fff}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#0072ff}.scroll[_ngcontent-%COMP%]{height:33vh;width:100%;margin:0 auto;overflow:hidden}.scroll[_ngcontent-%COMP%]:hover{overflow-y:scroll}.master-card[_ngcontent-%COMP%]{min-height:75vh}.master-card-scroll[_ngcontent-%COMP%]{height:75vh;width:100%;margin:0 auto;overflow:hidden}.master-card-scroll[_ngcontent-%COMP%]:hover{overflow-y:auto}.selected-menu[_ngcontent-%COMP%]{color:#00c6ff;border-right:#00c6ff solid 3px;border-radius:0!important;font-weight:700}"]});let e=n;return e})();var Ji=()=>["fas","search"],re=()=>["fas","chevron-down"],se=()=>["fas","chevron-up"],Hi=()=>["fas","user"],Yi=()=>["fas","briefcase"];function Gi(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,re))}function Ki(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,se))}function Xi(e,n){if(e&1&&(c(0,"span"),d(1,Gi,1,2,"fa-icon",30)(2,Ki,1,2,"fa-icon",30),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function Zi(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,re))}function en(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,se))}function tn(e,n){if(e&1&&(c(0,"span"),d(1,Zi,1,2,"fa-icon",30)(2,en,1,2,"fa-icon",30),l()),e&2){let t=u(2);s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function nn(e,n){if(e&1){let t=I();c(0,"div",32)(1,"span",16),h("click",function(){b(t);let o=u();return S(o.sortData("taskTypeCategoryName"))})("mouseenter",function(){b(t);let o=u();return S(o.hoveredColumn="taskTypeCategoryName")})("mouseleave",function(){b(t);let o=u();return S(o.hoveredColumn=null)}),m(2," Category "),d(3,tn,3,2,"span",17),l()()}if(e&2){let t=u();s(3),r("ngIf",t.sortedColumn==="taskTypeCategoryName"||t.hoveredColumn==="taskTypeCategoryName")}}function on(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,re))}function an(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,se))}function rn(e,n){if(e&1&&(c(0,"span"),d(1,on,1,2,"fa-icon",30)(2,an,1,2,"fa-icon",30),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function sn(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,re))}function cn(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,se))}function ln(e,n){if(e&1&&(c(0,"span"),d(1,sn,1,2,"fa-icon",30)(2,cn,1,2,"fa-icon",30),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function pn(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,re))}function mn(e,n){e&1&&v(0,"fa-icon",31),e&2&&r("icon",g(1,se))}function un(e,n){if(e&1&&(c(0,"span"),d(1,pn,1,2,"fa-icon",30)(2,mn,1,2,"fa-icon",30),l()),e&2){let t=u();s(),r("ngIf",t.sortDirection=="asc"),s(),r("ngIf",t.sortDirection=="desc")}}function dn(e,n){e&1&&v(0,"fa-icon",43),e&2&&r("icon",g(1,Hi))}function vn(e,n){e&1&&v(0,"fa-icon",43),e&2&&r("icon",g(1,Yi))}function fn(e,n){if(e&1&&(c(0,"div",44),m(1),l()),e&2){let t=u().$implicit;F("title",t==null?null:t.taskTypeCategoryName),s(),y(" ",t==null?null:t.taskTypeCategoryName," ")}}function hn(e,n){if(e&1&&(c(0,"span"),m(1),l()),e&2){let t=u().$implicit;s(),y(" ",t.clientaccounts==null||t.clientaccounts.businessinfos[0].businessType==null?null:t.clientaccounts.businessinfos[0].businessType.displayName," ")}}function _n(e,n){if(e&1&&(c(0,"div",46),m(1),N(2,"slice"),l()),e&2){let t=n.$implicit;X("title",t.actionItems),s(),P(" ",K(2,3,t.actionItems,0,55)," ",t.actionItems.length>55?"...":""," ")}}function Cn(e,n){if(e&1&&(xe(0),d(1,_n,3,7,"div",45),Ae()),e&2){let t=u().$implicit;s(),r("ngForOf",t.actionItemsVMs)}}function gn(e,n){e&1&&(c(0,"div"),m(1,"No Action items"),l())}function bn(e,n){if(e&1){let t=I();c(0,"div",33),h("click",function(){let o=b(t).$implicit,i=u();return S(i.onRowClick(o))}),c(1,"div",13)(2,"div",4)(3,"div",34)(4,"span"),d(5,dn,1,2,"fa-icon",35)(6,vn,1,2,"fa-icon",35),l(),c(7,"span",36),m(8),l()(),c(9,"div",18)(10,"span"),m(11),l()(),c(12,"div",19)(13,"span"),N(14,"date"),m(15),N(16,"date"),l()()(),c(17,"div",20),d(18,fn,2,2,"div",37),c(19,"div",38)(20,"span"),m(21),N(22,"slice"),l()(),c(23,"div",19),d(24,hn,2,1,"span",17),l()()(),c(25,"div",23)(26,"div",4)(27,"div",39)(28,"span",40),m(29),l()(),c(30,"div",13),d(31,Cn,2,1,"ng-container",41)(32,gn,2,0,"ng-template",null,0,de),l(),c(34,"div",13)(35,"span")(36,"span",42),m(37),l(),v(38,"br"),m(39),l()()()()()}if(e&2){let t=n.$implicit,a=ue(33),o=u();s(4),F("title",t==null||t.clientaccounts==null?null:t.clientaccounts.accountType),s(),r("ngIf",(t==null||t.clientaccounts==null?null:t.clientaccounts.accountType)===1),s(),r("ngIf",(t==null||t.clientaccounts==null?null:t.clientaccounts.accountType)===2),s(),F("title",t==null?null:t.subject),s(),y(" ",t==null?null:t.subject," "),s(2),F("title",t==null?null:t.filingYear),s(),y(" ",t==null?null:t.filingYear," "),s(2),F("title",R(14,22,t==null?null:t.dateCreated,o.env.shortDateFormat)),s(2),y(" ",R(16,25,t==null?null:t.dateCreated,o.env.shortDateFormat)," "),s(3),r("ngIf",o.type!="tasktype"),s(2),F("title",t==null?null:t.clientFullName),s(),P(" ",K(22,28,t==null?null:t.clientFullName,0,100)," ",(t==null?null:t.clientFullName.length)>100?"...":""," "),s(3),r("ngIf",(t.clientaccounts==null||t.clientaccounts.businessinfos==null?null:t.clientaccounts.businessinfos.length)>0),s(4),r("ngClass",t==null?null:t.statusColor),F("title",t==null?null:t.taskStatusGroupName),s(),y(" ",t==null?null:t.taskStatusGroupName," "),s(2),r("ngIf",t.actionItemsVMs.length>0)("ngIfElse",a),s(6),y(" ",t==null?null:t.clientRelationFullName,""),s(2),P(" ",t==null||t.clientaccounts==null||t.clientaccounts.clientRelation==null?null:t.clientaccounts.clientRelation.phoneNumber," / ",t==null||t.clientaccounts==null||t.clientaccounts.clientRelation==null?null:t.clientaccounts.clientRelation.email," ")}}var _t=(()=>{let n=class n{constructor(a,o,i,p,f,D){this.route=a,this.iTrackService=o,this.userLoginService=i,this.router=p,this.breadcrumbService=f,this.cryptoService=D,this.env=w,this.searchText="",this.companyInfo=[],this.dataSource=[],this.filteredData=[],this.userTypesEnum=M,this.sortedColumn="",this.sortDirection="asc",this.hoveredColumn=null,this.allItrackClientAccountIds=[],this.sharedAcountClientAccountIds=[],this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(B=>this.authUser=B),this.route.params.subscribe(B=>{this.servicestatus=B.servicestatus,this.type=B.type,this.clientAccountId=this.cryptoService.decryptString(B.clientAccountId),this.getClientInfo(),this.getTasksForClientPortal(),this.setBreadcrumb()})}ngOnInit(){}getClientInfo(){if(this.authUser&&this.authUser.userDetails&&this.authUser?.userDetails?.itrackClientAccountIds&&(this.allItrackClientAccountIds=this.authUser?.userDetails?.itrackClientAccountIds),this.sharedAcountClientAccountIds=[],this.authUser&&this.authUser.userDetails&&this.authUser?.userDetails?.businessAssociateAccounts){var a=this.authUser?.userDetails?.businessAssociateAccounts;a&&a.forEach(o=>{o?.itrackClientAccountId&&(this.allItrackClientAccountIds.push(o.itrackClientAccountId),this.sharedAcountClientAccountIds.push(o.itrackClientAccountId))})}}getTasksForClientPortal(){if(this.authUser.clientId||this.authUser.clientId===0){var a=null;switch(this.type){case"taskstatus":case"tasktype":a={clientId:this.authUser.clientId,clientAccountId:this.clientAccountId,taskStatus:this.type==="taskstatus"?this.servicestatus:"",taskStatusId:0,taskType:this.type==="tasktype"?this.servicestatus:"",taskTypeId:0};break;case"all":a={clientId:0,clientAccountId:0,taskStatus:"",taskStatusId:0,taskType:"",taskTypeId:0};break}if(a.userType=this.authUser.userType,a.clientAccountIds=[],this.type=="all")if(this.authUser.userType===this.userTypesEnum.AssociateClient){var o=[];this.authUser.userDetails.businessAssociateAccounts.forEach(p=>{o.push(p.itrackClientAccountId)}),a.clientAccountIds=o}else a.clientAccountIds=this.allItrackClientAccountIds;else if(this.sharedAcountClientAccountIds&&this.sharedAcountClientAccountIds.length>0){var i=this.sharedAcountClientAccountIds.findIndex(p=>p===+this.clientAccountId);i>=0&&(a.clientId=0,a.clientAccountIds=[this.sharedAcountClientAccountIds[i]])}this.iTrackService.getTasksForClientPortal(a).subscribe(p=>{p.forEach(f=>{switch(f.clientFullName=f?.clientaccounts?.clientFullName,f.shortCode=f?.clientaccounts?.shortCode,f.taskStatusName=f?.taskStatus?.displayName,f.phone=f?.clientaccounts?.phone,f.email=f?.clientaccounts?.email,f.clientRelationFullName=f?.clientaccounts?.clientRelation?.fullName,f.taskStatusGroupId){case 1:f.statusColor="status-open";break;case 2:f.statusColor="status-in-progress";break;case 3:f.statusColor="status-filing";break;case 4:f.statusColor="status-close";break;default:f.statusColor="status-default"}}),this.dataSource=p,this.filteredData=p})}}applyFilter(a){let o=a.target.value.toLowerCase(),i=["serviceName","clientFullName","taskStatusGroupName","phone","filingYear","subject","clientaccounts.clientRelation.fullName","clientaccounts.clientRelation.phoneNumber","clientaccounts.clientRelation.email"];this.filteredData=this.dataSource.filter(p=>i.some(f=>{let D=this.getColumnValue(p,f);return typeof D=="string"&&D.toLowerCase().includes(o)}))}getColumnValue(a,o){let i=o.split("."),p=a;for(let f of i)if(p)p=p[f];else return null;return p}sortData(a){this.sortedColumn===a?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortedColumn=a,this.sortDirection="asc"),this.filteredData.sort((o,i)=>{let p=o[a],f=i[a];return p<f?this.sortDirection==="asc"?-1:1:p>f?this.sortDirection==="asc"?1:-1:0})}viewDetails(a){}onRowClick(a){this.router.navigate(["admin","landing","services",this.cryptoService.encryptString(a.clientaccounts?.id),this.cryptoService.encryptString(a.id),this.type])}setBreadcrumb(){var a="Common";+this.clientAccountId==0?this.setWithCompanyName(a):this.breadcrumbService.getCompanyInfo().subscribe(o=>{this.companyInfo=o;var i=this.companyInfo.findIndex(p=>p.id==+this.clientAccountId);i>=0&&(a=this.companyInfo[i].clientFullName,this.setWithCompanyName(a))})}setWithCompanyName(a){var o=[];this.type=="all"?o=[{name:"Services",link:"",hasLink:!0}]:o=[{name:"Dashboard",link:"",hasLink:!0},{name:a,link:"dashboard/"+this.cryptoService.encryptString(this.clientAccountId),hasLink:!0},{name:this.servicestatus,link:"",hasLink:!1}];var i={displayName:this.servicestatus,links:o};this.breadcrumbService.setLinks(i)}};n.\u0275fac=function(o){return new(o||n)(_(W),_(Y),_(x),_(J),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-task-service-status"]],decls:47,vars:11,consts:[["noItems",""],[1,"m-0"],[1,"card","m-0","p-0"],[1,"card-header","app-card-header"],[1,"row"],[1,"col","mt-2","p-txt-clr"],[1,"col-3","text-end"],[1,"input-group",2,"display","block"],[1,"input-search"],["type","text","placeholder","Search....",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"search-input-icon",3,"icon"],[1,"card-body","scroll"],[1,"row","pb-2","pt-2","task-header-row","cursor-pointer"],[1,"col-5"],[1,"col-6","p-txt-clr"],[1,"ms-1","fw-bold"],[1,"mt-2","p-txt-clr",3,"click","mouseenter","mouseleave"],[4,"ngIf"],[1,"col-2","p-txt-clr"],[1,"col-4","p-txt-clr"],[1,"row","mt-2"],["class","col-auto p-txt-clr ms-1",4,"ngIf"],[1,"col","p-txt-clr",3,"click","mouseenter","mouseleave"],[1,"col-7"],[1,"col-2","mt-2","p-txt-clr",3,"click","mouseenter","mouseleave"],[1,"col-5","mt-2","p-txt-clr"],[1,"col-5","mt-2","p-txt-clr",3,"click","mouseenter","mouseleave"],["class","row pt-2 pb-2 cursor-pointer task-data-row",3,"click",4,"ngFor","ngForOf"],[1,"text-center",2,"padding","15px"],[3,"records"],["size","xs",3,"icon",4,"ngIf"],["size","xs",3,"icon"],[1,"col-auto","p-txt-clr","ms-1"],[1,"row","pt-2","pb-2","cursor-pointer","task-data-row",3,"click"],[1,"col-6"],[3,"icon",4,"ngIf"],[1,"ms-1","fw-bold","p-txt-clr"],["class","col-auto badge service-color ms-1 fw-bold p-txt-clr",4,"ngIf"],[1,"col","p-txt-clr"],[1,"col-2","align-self-center"],[1,"badge","status-fs",3,"ngClass"],[4,"ngIf","ngIfElse"],[1,"fw-bold"],[3,"icon"],[1,"col-auto","badge","service-color","ms-1","fw-bold","p-txt-clr"],[3,"title",4,"ngFor","ngForOf"],[3,"title"]],template:function(o,i){o&1&&(c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"span")(6,"strong"),m(7),l()()(),c(8,"div",6)(9,"div",7)(10,"div",8)(11,"input",9),Ne("ngModelChange",function(f){return Fe(i.searchText,f)||(i.searchText=f),f}),h("input",function(f){return i.applyFilter(f)}),l(),v(12,"fa-icon",10),l()()()()(),c(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",4)(17,"div",14),m(18," Type "),c(19,"span",15)(20,"span",16),h("click",function(){return i.sortData("subject")})("mouseenter",function(){return i.hoveredColumn="subject"})("mouseleave",function(){return i.hoveredColumn=null}),m(21," Service Name "),d(22,Xi,3,2,"span",17),l()()(),c(23,"div",18),m(24,"Year"),l(),c(25,"div",19),m(26,"Created On"),l()(),c(27,"div",20),d(28,nn,4,1,"div",21),c(29,"div",22),h("click",function(){return i.sortData("clientFullName")})("mouseenter",function(){return i.hoveredColumn="clientFullName"})("mouseleave",function(){return i.hoveredColumn=null}),m(30," Company/Individul Name "),d(31,rn,3,2,"span",17),l(),c(32,"div",19),m(33,"Business Type"),l()()(),c(34,"div",23)(35,"div",4)(36,"div",24),h("click",function(){return i.sortData("taskStatusName")})("mouseenter",function(){return i.hoveredColumn="taskStatusName"})("mouseleave",function(){return i.hoveredColumn=null}),m(37," Status "),d(38,ln,3,2,"span",17),l(),c(39,"div",25),m(40,"Action Items"),l(),c(41,"div",26),h("click",function(){return i.sortData("clientRelationFullName")})("mouseenter",function(){return i.hoveredColumn="clientRelationFullName"})("mouseleave",function(){return i.hoveredColumn=null}),m(42," Contact "),d(43,un,3,2,"span",17),l()()()(),d(44,bn,40,32,"div",27),c(45,"div",28),v(46,"app-no-records",29),l()()()()),o&2&&(s(7),L(i.servicestatus),s(4),Me("ngModel",i.searchText),s(),r("icon",g(10,Ji)),s(10),r("ngIf",i.sortedColumn==="subject"||i.hoveredColumn==="subject"),s(6),r("ngIf",i.type!="tasktype"),s(3),r("ngIf",i.sortedColumn==="clientFullName"||i.hoveredColumn==="clientFullName"),s(7),r("ngIf",i.sortedColumn==="taskStatusName"||i.hoveredColumn==="taskStatusName"),s(5),r("ngIf",i.sortedColumn==="clientRelationFullName"||i.hoveredColumn==="clientRelationFullName"),s(),r("ngForOf",i.filteredData),s(2),r("records",i.filteredData))},dependencies:[Z,$,j,Ve,Pe,Le,H,ee,ve,z],styles:[".no-border[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}.task-header-row[_ngcontent-%COMP%]{background-color:#f5f5f5;border-bottom:1px #cdcaca solid;border-top:1px #cdcaca solid}.task-data-row[_ngcontent-%COMP%]{font-size:13px;border-bottom:1px #cdcaca solid}.hide[_ngcontent-%COMP%]{display:none}.myDIV[_ngcontent-%COMP%]:hover + .hide[_ngcontent-%COMP%]{display:block;color:red}.status-fs[_ngcontent-%COMP%]{font-size:13px!important}.input-search[_ngcontent-%COMP%]{position:relative;display:block!important}.search-input-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:9px;z-index:3}.scroll[_ngcontent-%COMP%]{height:83vh;max-height:83vh;width:100%;overflow:auto}.scroll[_ngcontent-%COMP%]:hover{overflow-y:auto}.criteria-icon-action[_ngcontent-%COMP%]{color:#cfcfcf}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#fff}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00c6ff;border-radius:10px;border:3px solid #00C6FF}"]});let e=n;return e})();var Ct=(()=>{let n=class n{constructor(a,o){this.userLoginService=a,this.router=o}canActivate(a,o){return this.userLoginService.authorizedUser$.pipe(T(1),Te(i=>i&&i.token?!0:this.router.createUrlTree(["/login"])))}};n.\u0275fac=function(o){return new(o||n)(be(x),be(J))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var gt=(()=>{let n=class n{constructor(a,o,i){this.userLoginService=a,this.breadcrumbService=o,this.cryptoService=i,this.url="",this.env=w,this.role="",this.userTypeEnum=M,this.dmsUserName="",this.dmsToken="",this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(p=>this.authUser=p),this.authUser.userType==this.userTypeEnum.Client||this.authUser.userType==this.userTypeEnum.AssociateClient?this.role="client":this.authUser.userType==this.userTypeEnum.Staff&&(this.role="staff"),this.authUser?.userType==this.userTypeEnum.Staff&&this.authUser?.userDetails?.isFromItrack?this.dmsUserName=this.authUser?.userDetails?.clientUserName:this.dmsUserName=this.authUser.username,this.dmsToken=this.authUser?.userDetails?.dmsToken,this.setBreadcrumb()}ngOnInit(){}onLoad(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/tag?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPageTags").contentWindow.location.replace(this.url)}setBreadcrumb(){this.breadcrumbService.setLinks(null)}};n.\u0275fac=function(o){return new(o||n)(_(x),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-dms-tags"]],decls:2,vars:0,consts:[[1,"row","m-0","p-0",2,"position","relative","left","-8px","top","-8px","width","100%"],["id","layoutPageTags",2,"width","100%","height","98vh","border","none","padding","0",3,"load"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"iframe",1),h("load",function(){return i.onLoad()}),l()())}});let e=n;return e})();var bt=(()=>{let n=class n{constructor(a,o,i){this.userLoginService=a,this.breadcrumbService=o,this.cryptoService=i,this.env=w,this.url="",this.showContent=!1,this.role="",this.userTypeEnum=M,this.dmsUserName="",this.dmsToken="",this.userLoginService.authorizedUser$.pipe(T(1)).subscribe(p=>this.authUser=p),this.authUser.userType==this.userTypeEnum.Client||this.authUser.userType==this.userTypeEnum.AssociateClient?this.role="client":this.authUser.userType==this.userTypeEnum.Staff&&(this.role="staff"),this.setBreadcrumb(),this.authUser?.userType==this.userTypeEnum.Staff&&this.authUser?.userDetails?.isFromItrack?this.dmsUserName=this.authUser?.userDetails?.clientUserName:this.dmsUserName=this.authUser.username,this.dmsToken=this.authUser?.userDetails?.dmsToken}ngOnInit(){this.showContent=!1}onLoad(){var a={uid:this.dmsUserName,role:this.role};this.url=this.env.snapDocUrl+"admin/archive?params="+this.cryptoService.encryptString(JSON.stringify(a)),document.getElementById("layoutPageArchive").contentWindow.location.replace(this.url)}setBreadcrumb(){this.breadcrumbService.setLinks(null)}};n.\u0275fac=function(o){return new(o||n)(_(x),_(A),_(E))},n.\u0275cmp=k({type:n,selectors:[["app-dmsarchive"]],decls:2,vars:0,consts:[[1,"row","m-0","p-0",2,"position","relative","left","-8px","top","-8px","width","100%"],["id","layoutPageArchive",2,"width","100%","height","98vh","border","none","padding","0",3,"load"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"iframe",1),h("load",function(){return i.onLoad()}),l()())}});let e=n;return e})();var Sn=[{path:"",component:st,canActivate:[Ct],children:[{path:"landing",component:ct,data:{breadcrumb:"Landing"},children:[{path:"",component:ye,data:{breadcrumb:"Dashboard"}},{path:"dashboard/:clientAccountId/:formDashboard",component:ye},{path:"masterprofile/:clientAccountId/:clientserviceId/:from",component:ht,data:{breadcrumb:"MasterProfile"},children:[{path:"",component:Ge},{path:"",component:Ke}]},{path:"myDocuments",component:lt,data:{breadcrumb:"MyDocuments"}},{path:"services/:clientAccountId/:clientserviceId/:from",component:ut,data:{breadcrumb:"Services"}},{path:"recent",component:dt,data:{breadcrumb:"Recent"}},{path:"favorites",component:vt,data:{breadcrumb:"Favorites"}},{path:"tags",component:gt,data:{breadcrumb:"Tags"}},{path:"archive",component:bt,data:{breadcrumb:"Archive"}},{path:"profile",component:ft,data:{breadcrumb:"Profile"}},{path:"taskservices/:servicestatus/:type/:clientAccountId",component:_t,data:{breadcrumb:"TaskServices"}}]}]}],St=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=me({type:n}),n.\u0275inj=pe({imports:[Se.forChild(Sn),Re,je,fe,Se]});let e=n;return e})();var pa=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=me({type:n}),n.\u0275inj=pe({imports:[fe,St,rt]});let e=n;return e})();export{pa as AdminModule};
